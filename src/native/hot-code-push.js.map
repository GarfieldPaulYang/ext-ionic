{"version":3,"sources":["hot-code-push.ts"],"names":[],"mappings":"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","file":"hot-code-push.js","sourceRoot":"","sourcesContent":["import { Injectable } from '@angular/core';\nimport { Cordova, Plugin, IonicNativePlugin } from '@ionic-native/core';\n\nexport interface HotCodePushConifg {\n  'config-file'?: string;\n  'auto-download'?: boolean;\n  'auto-install'?: boolean;\n}\n\nexport interface HotCodePushOptions {\n  'config-file'?: string;\n  'request-headers'?: any;\n}\n\nexport interface HotCodeCallback {\n  (error: any, data: any): void;\n}\n\n@Plugin({\n  pluginName: 'HotCodePush',\n  plugin: 'cordova-hot-code-push-plugin',\n  pluginRef: 'chcp',\n  repo: 'https://github.com/nordnet/cordova-hot-code-push',\n  platforms: ['Android', 'iOS']\n})\n\nexport class HotCodePush extends IonicNativePlugin {\n  static error = {\n    NOTHING_TO_INSTALL: 1,\n    NOTHING_TO_UPDATE: 2,\n\n    FAILED_TO_DOWNLOAD_APPLICATION_CONFIG: -1,\n    APPLICATION_BUILD_VERSION_TOO_LOW: -2,\n    FAILED_TO_DOWNLOAD_CONTENT_MANIFEST: -3,\n    FAILED_TO_DOWNLOAD_UPDATE_FILES: -4,\n    FAILED_TO_MOVE_LOADED_FILES_TO_INSTALLATION_FOLDER: -5,\n    UPDATE_IS_INVALID: -6,\n    FAILED_TO_COPY_FILES_FROM_PREVIOUS_RELEASE: -7,\n    FAILED_TO_COPY_NEW_CONTENT_FILES: -8,\n    LOCAL_VERSION_OF_APPLICATION_CONFIG_NOT_FOUND: -9,\n    LOCAL_VERSION_OF_MANIFEST_NOT_FOUND: -10,\n    LOADED_VERSION_OF_APPLICATION_CONFIG_NOT_FOUND: -11,\n    LOADED_VERSION_OF_MANIFEST_NOT_FOUND: -12,\n    FAILED_TO_INSTALL_ASSETS_ON_EXTERNAL_STORAGE: -13,\n    CANT_INSTALL_WHILE_DOWNLOAD_IN_PROGRESS: -14,\n    CANT_DOWNLOAD_UPDATE_WHILE_INSTALLATION_IN_PROGRESS: -15,\n    INSTALLATION_ALREADY_IN_PROGRESS: -16,\n    DOWNLOAD_ALREADY_IN_PROGRESS: -17,\n    ASSETS_FOLDER_IN_NOT_YET_INSTALLED: -18,\n    NEW_APPLICATION_CONFIG_IS_INVALID: -19\n  };\n\n  static event = {\n    BEFORE_ASSETS_INSTALLATION: 'chcp_beforeAssetsInstalledOnExternalStorage',\n    ASSETS_INSTALLATION_FAILED: 'chcp_assetsInstallationError',\n    ASSETS_INSTALLED: 'chcp_assetsInstalledOnExternalStorage',\n\n    NOTHING_TO_UPDATE: 'chcp_nothingToUpdate',\n    UPDATE_LOAD_FAILED: 'chcp_updateLoadFailed',\n    UPDATE_IS_READY_TO_INSTALL: 'chcp_updateIsReadyToInstall',\n\n    BEFORE_UPDATE_INSTALLATION: 'chcp_beforeInstall',\n    UPDATE_INSTALLATION_FAILED: 'chcp_updateInstallFailed',\n    UPDATE_INSTALLED: 'chcp_updateInstalled',\n    NOTHING_TO_INSTALL: 'chcp_nothingToInstall'\n  };\n\n  @Cordova({\n    sync: true\n  })\n  fetchUpdate(callback: HotCodeCallback, options?: HotCodePushOptions): void { };\n\n  @Cordova()\n  installUpdate(): Promise<any> { return; };\n\n  @Cordova({\n    sync: true\n  })\n  isUpdateAvailableForInstallation(callback: HotCodeCallback): void { };\n\n  @Cordova({\n    sync: true\n  })\n  getVersionInfo(callback: HotCodeCallback) { };\n\n  @Cordova()\n  configure(config: HotCodePushConifg): Promise<any> { return; };\n\n  onUpdateInstalled(listener: EventListenerOrEventListenerObject) {\n    document.addEventListener(HotCodePush.event.UPDATE_INSTALLED, listener, false);\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}